{"version":3,"sources":["components/Person.js","components/Persons.js","components/Filter.js","components/PersonForm.js","components/ErrorNotification.js","components/SuccessNotification.js","components/Footer.js","services/persons.js","App.js","index.js"],"names":["Person","person","deletePerson","className","name","number","onClick","Persons","persons","searchName","removePerson","personsToShow","filter","toLowerCase","includes","map","id","Filter","handleSearchName","value","onChange","PersonForm","addName","newName","handleNameChange","newNumber","handleNumberChange","onSubmit","type","ErrorNotification","message","SuccessNotification","Footer","style","color","fontStyle","fontSize","textAlign","width","height","paddingTop","baseUrl","axios","get","then","response","data","newObject","post","put","delete","App","useState","setPersons","setNewName","setNewNumber","setSearchName","errorMessage","setErrorMessage","successMessage","setSuccessMessage","useEffect","personService","initialPersons","href","event","target","preventDefault","nameObject","length","chosenPerson","find","p","changedPerson","window","confirm","returnedPerson","setTimeout","catch","error","n","concat","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.71e0eede.chunk.js","sourcesContent":["import React from 'react'\r\n\r\n\r\nconst Person = ({ person, deletePerson }) => {\r\n  return (\r\n    <li className='person'>\r\n      {person.name} {person.number} \r\n      <button onClick={deletePerson}>delete</button> \r\n    </li>\r\n  )\r\n}\r\n\r\n\r\nexport default Person","import React from 'react'\r\nimport Person from './Person'\r\n\r\n\r\nconst Persons = ({ persons, searchName, removePerson }) => {\r\n  const personsToShow = searchName\r\n    ? persons.filter(person => person.name.toLowerCase().includes(searchName.toLowerCase()))\r\n    : persons\r\n  return (\r\n    <ul>\r\n      {personsToShow.map((person) =>\r\n        <Person \r\n        key={person.id} \r\n        person={person}\r\n        deletePerson={() => removePerson(person.id, person.name)}\r\n        />\r\n      )}\r\n    </ul>\r\n  )\r\n}\r\n\r\n\r\nexport default Persons","import React from 'react'\r\n\r\n\r\nconst Filter = ({ searchName, handleSearchName }) => {\r\n  return (\r\n    <div>\r\n      filter shown with: <input \r\n      value={searchName}\r\n      onChange={handleSearchName} />\r\n    </div>\r\n  )\r\n}\r\n\r\n\r\nexport default Filter","import React from 'react'\r\n\r\n\r\nconst PersonForm = ({ addName, newName, handleNameChange, newNumber, handleNumberChange }) => {\r\n  return (\r\n    <form onSubmit={addName}>\r\n      <div>\r\n        name: <input \r\n        value={newName}\r\n        onChange={handleNameChange} />\r\n      </div>\r\n      <div>\r\n        number: <input\r\n        value={newNumber}\r\n        onChange={handleNumberChange} />\r\n      </div>\r\n      <div>\r\n        <button type=\"submit\">add</button>\r\n      </div>\r\n    </form>\r\n  )\r\n}\r\n\r\n\r\nexport default PersonForm","import React from 'react'\r\n\r\n\r\nconst ErrorNotification = ({ message }) => {\r\n  if (message === null) {\r\n    return null\r\n  }\r\n\r\n  return (\r\n    <div className=\"errorNoti\">\r\n      {message}\r\n    </div>\r\n  )\r\n}\r\n\r\n\r\nexport default ErrorNotification","import React from 'react'\r\n\r\n\r\nconst SuccessNotification = ({ message }) => {\r\n  if (message === null) {\r\n    return null\r\n  }\r\n\r\n  return (\r\n    <div className=\"successNoti\">\r\n      {message}\r\n    </div>\r\n  )\r\n}\r\n\r\n\r\nexport default SuccessNotification","import React from 'react'\r\n\r\n\r\nconst Footer = () => {\r\n  const footerStyle = {\r\n    color: 'green',\r\n    fontStyle: 'italic',\r\n    fontSize: 16,\r\n    textAlign: 'center',\r\n    width: '100%',\r\n    height: 40,\r\n    paddingTop: '10vh'\r\n  }\r\n  return (\r\n    <div style={footerStyle}>\r\n      <br />\r\n      <em>Phonebook app, Department of Computer Science, University of Helsinki 2021</em>\r\n    </div>\r\n  )\r\n}\r\n\r\n\r\nexport default Footer","import axios from 'axios'\r\n\r\n\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl)  \r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst create = newObject => {\r\n  const request = axios.post(baseUrl, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst deletion = (id) => {\r\n  const request = axios.delete(`${baseUrl}/${id}`)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nexport default { getAll, create, update, deletion }","import React, { useState, useEffect } from 'react'\r\nimport Persons from './components/Persons'\r\nimport Filter from './components/Filter'\r\nimport PersonForm from './components/PersonForm'\r\nimport ErrorNotification from './components/ErrorNotification'\r\nimport SuccessNotification from './components/SuccessNotification'\r\nimport Footer from './components/Footer'\r\nimport personService from './services/persons'\r\n\r\n\r\nconst App = () => {\r\n  const [ persons, setPersons ] = useState([]) \r\n  const [ newName, setNewName ] = useState('')\r\n  const [ newNumber, setNewNumber ] = useState('')\r\n  const [ searchName, setSearchName ] = useState('')\r\n  const [ errorMessage, setErrorMessage ] = useState(null)\r\n  const [ successMessage, setSuccessMessage ] = useState(null)\r\n\r\n  useEffect(() => {\r\n    personService\r\n      .getAll()\r\n      .then(initialPersons => {\r\n        setPersons(initialPersons)\r\n      })\r\n  }, [])\r\n\r\n  const addName = (event) => {\r\n    event.preventDefault()\r\n    const nameObject = {\r\n      name: newName,\r\n      number: newNumber,\r\n    }\r\n    \r\n    if (persons.filter(name => name.name === newName).length > 0) {\r\n      const chosenPerson = persons.find(p => p.name === newName)\r\n      const changedPerson = {...chosenPerson, number: newNumber}\r\n      if (window.confirm(`${newName} is already added to the phonebook, replace the old number with a new one?`)) { \r\n        personService\r\n          .update(chosenPerson.id, changedPerson)\r\n          .then(returnedPerson => {\r\n            setPersons(persons.map(person => person.id !== chosenPerson.id ? person : returnedPerson))\r\n            setSuccessMessage(\r\n              `Number for ${newName} has successfully changed`\r\n            )\r\n            setTimeout(() => {\r\n              setSuccessMessage(null)\r\n            }, 5000)\r\n          })\r\n          .catch(error => {\r\n            setErrorMessage(\r\n              `Information of ${newName} has already been removed from server`\r\n            )\r\n            setTimeout(() => {\r\n              setErrorMessage(null)\r\n            }, 5000)\r\n            setPersons(persons.filter(n => n.id !== chosenPerson.id))\r\n          })        \r\n      }\r\n    }\r\n    else {\r\n      setSuccessMessage(\r\n        `Added ${newName} to the phonebook`\r\n      )\r\n      setTimeout(() => {\r\n        setSuccessMessage(null)\r\n      }, 5000)\r\n      personService\r\n        .create(nameObject)\r\n        .then(returnedPerson => {\r\n          setPersons(persons.concat(returnedPerson))\r\n          setNewName('')\r\n          setNewNumber('')        \r\n        })\r\n    }\r\n  }\r\n\r\n  const removePerson = (id, name) => {\r\n    if (window.confirm(`Delete ${name} ?`)) {  \r\n      personService\r\n        .deletion(id)\r\n        .then(\r\n          setPersons(persons.filter(person => person.id !== id))\r\n        )\r\n    }\r\n  }\r\n\r\n  const handleNameChange = (event) => {\r\n    setNewName(event.target.value)\r\n  }\r\n\r\n  const handleNumberChange = (event) => {\r\n    setNewNumber(event.target.value)\r\n  }\r\n\r\n  const handleSearchName = (event) => {\r\n    setSearchName(event.target.value)\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <nav>\r\n        <ul>\r\n          <li>\r\n            <a href=\"/info\">Info Page</a>\r\n          </li>\r\n        </ul>\r\n      </nav>\r\n      <h1>Phonebook</h1>\r\n      <ErrorNotification message={errorMessage} />\r\n      <SuccessNotification message={successMessage} />\r\n      <Filter \r\n        searchName={searchName}\r\n        handleSearchName={handleSearchName}\r\n      />\r\n      <h1>Add a new</h1>\r\n      <PersonForm \r\n        addName={addName}\r\n        newName={newName}\r\n        handleNameChange={handleNameChange}\r\n        newNumber={newNumber} \r\n        handleNumberChange={handleNumberChange}\r\n      />\r\n      <h1>Numbers</h1>\r\n      <Persons \r\n        persons={persons} \r\n        searchName={searchName}\r\n        removePerson={removePerson} \r\n      />\r\n      <Footer />\r\n    </div>\r\n  )\r\n}\r\n\r\n\r\nexport default App\r\n\r\n","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport App from './App'\r\nimport './index.css'\r\n\r\n\r\nReactDOM.render(<App />, document.getElementById('root'))"],"sourceRoot":""}