{"version":3,"sources":["components/Person.js","components/Persons.js","components/Filter.js","components/PersonForm.js","components/ErrorNotification.js","components/SuccessNotification.js","components/Footer.js","services/persons.js","App.js","index.js"],"names":["Person","person","deletePerson","className","name","number","onClick","Persons","persons","searchName","removePerson","personsToShow","filter","toLowerCase","includes","map","id","Filter","handleSearchName","value","onChange","PersonForm","addName","newName","handleNameChange","newNumber","handleNumberChange","onSubmit","type","ErrorNotification","message","SuccessNotification","Footer","style","color","fontStyle","fontSize","textAlign","width","height","paddingTop","baseUrl","axios","get","then","response","data","newObject","post","put","delete","App","useState","setPersons","setNewName","setNewNumber","setSearchName","errorMessage","setErrorMessage","successMessage","setSuccessMessage","useEffect","personService","initialPersons","event","target","preventDefault","nameObject","length","chosenPerson","find","p","changedPerson","window","confirm","returnedPerson","setTimeout","catch","error","n","concat","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.3e8cc3cf.chunk.js","sourcesContent":["import React from 'react'\r\n\r\n\r\nconst Person = ({ person, deletePerson }) => {\r\n  return (\r\n    <li className='person'>\r\n      {person.name} {person.number} \r\n      <button onClick={deletePerson}>delete</button> \r\n    </li>\r\n  )\r\n}\r\n\r\n\r\nexport default Person","import React from 'react'\r\nimport Person from './Person'\r\n\r\n\r\nconst Persons = ({ persons, searchName, removePerson }) => {\r\n  const personsToShow = searchName\r\n    ? persons.filter(person => person.name.toLowerCase().includes(searchName.toLowerCase()))\r\n    : persons\r\n  return (\r\n    <ul>\r\n      {personsToShow.map((person) =>\r\n        <Person \r\n        key={person.id} \r\n        person={person}\r\n        deletePerson={() => removePerson(person.id, person.name)}\r\n        />\r\n      )}\r\n    </ul>\r\n  )\r\n}\r\n\r\n\r\nexport default Persons","import React from 'react'\r\n\r\n\r\nconst Filter = ({ searchName, handleSearchName }) => {\r\n  return (\r\n    <div>\r\n      filter shown with: <input \r\n      value={searchName}\r\n      onChange={handleSearchName} />\r\n    </div>\r\n  )\r\n}\r\n\r\n\r\nexport default Filter","import React from 'react'\r\n\r\n\r\nconst PersonForm = ({ addName, newName, handleNameChange, newNumber, handleNumberChange }) => {\r\n  return (\r\n    <form onSubmit={addName}>\r\n      <div>\r\n        name: <input \r\n        value={newName}\r\n        onChange={handleNameChange} />\r\n      </div>\r\n      <div>\r\n        number: <input\r\n        value={newNumber}\r\n        onChange={handleNumberChange} />\r\n      </div>\r\n      <div>\r\n        <button type=\"submit\">add</button>\r\n      </div>\r\n    </form>\r\n  )\r\n}\r\n\r\n\r\nexport default PersonForm","import React from 'react'\r\n\r\n\r\nconst ErrorNotification = ({ message }) => {\r\n  if (message === null) {\r\n    return null\r\n  }\r\n\r\n  return (\r\n    <div className=\"errorNoti\">\r\n      {message}\r\n    </div>\r\n  )\r\n}\r\n\r\n\r\nexport default ErrorNotification","import React from 'react'\r\n\r\n\r\nconst SuccessNotification = ({ message }) => {\r\n  if (message === null) {\r\n    return null\r\n  }\r\n\r\n  return (\r\n    <div className=\"successNoti\">\r\n      {message}\r\n    </div>\r\n  )\r\n}\r\n\r\n\r\nexport default SuccessNotification","import React from 'react'\r\n\r\n\r\nconst Footer = () => {\r\n  const footerStyle = {\r\n    color: 'green',\r\n    fontStyle: 'italic',\r\n    fontSize: 16,\r\n    textAlign: 'center',\r\n    width: '100%',\r\n    height: 40,\r\n    paddingTop: '10vh'\r\n  }\r\n  return (\r\n    <div style={footerStyle}>\r\n      <br />\r\n      <em>Phonebook app, Department of Computer Science, University of Helsinki 2021</em>\r\n    </div>\r\n  )\r\n}\r\n\r\n\r\nexport default Footer","import axios from 'axios'\r\n\r\n\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl)  \r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst create = newObject => {\r\n  const request = axios.post(baseUrl, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst deletion = (id) => {\r\n  const request = axios.delete(`${baseUrl}/${id}`)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nexport default { getAll, create, update, deletion }","import React, { useState, useEffect } from 'react'\nimport Persons from './components/Persons'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport ErrorNotification from './components/ErrorNotification'\nimport SuccessNotification from './components/SuccessNotification'\nimport Footer from './components/Footer'\nimport personService from './services/persons'\n\n\nconst App = () => {\n  const [ persons, setPersons ] = useState([]) \n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ searchName, setSearchName ] = useState('')\n  const [ errorMessage, setErrorMessage ] = useState(null)\n  const [ successMessage, setSuccessMessage ] = useState(null)\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then(initialPersons => {\n        setPersons(initialPersons)\n      })\n  }, [])\n\n  const addName = (event) => {\n    event.preventDefault()\n    const nameObject = {\n      name: newName,\n      number: newNumber,\n    }\n    \n    if (persons.filter(name => name.name === newName).length > 0) {\n      const chosenPerson = persons.find(p => p.name === newName)\n      const changedPerson = {...chosenPerson, number: newNumber}\n\n      if (window.confirm(`${newName} is already added to the phonebook, replace the old number with a new one?`)) { \n        personService\n          .update(chosenPerson.id, changedPerson)\n          .then(returnedPerson => {\n            setPersons(persons.map(person => person.id !== chosenPerson.id ? person : returnedPerson))\n            setSuccessMessage(\n              `Number for ${newName} has successfully changed`\n            )\n            setTimeout(() => {\n              setSuccessMessage(null)\n            }, 5000)\n          })\n          .catch(error => {\n            setErrorMessage(\n              `Information of ${newName} has already been removed from server`\n            )\n            setTimeout(() => {\n              setErrorMessage(null)\n            }, 5000)\n            setPersons(persons.filter(n => n.id !== chosenPerson.id))\n          })        \n      }\n    }\n    else {\n      setSuccessMessage(\n        `Added ${newName} to the phonebook`\n      )\n      setTimeout(() => {\n        setSuccessMessage(null)\n      }, 5000)\n      personService\n        .create(nameObject)\n        .then(returnedPerson => {\n          setPersons(persons.concat(returnedPerson))\n          setNewName('')\n          setNewNumber('')        \n        })\n    }\n  }\n\n  const removePerson = (id, name) => {\n    if (window.confirm(`Delete ${name} ?`)) {  \n      personService\n        .deletion(id)\n        .then(\n          setPersons(persons.filter(person => person.id !== id))\n        )\n    }\n  }\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const handleSearchName = (event) => {\n    setSearchName(event.target.value)\n  }\n\n  return (\n    <div>\n      <h1>Phonebook</h1>\n      <ErrorNotification message={errorMessage} />\n      <SuccessNotification message={successMessage} />\n      <Filter \n        searchName={searchName}\n        handleSearchName={handleSearchName}\n      />\n      <h1>Add a new</h1>\n      <PersonForm \n        addName={addName}\n        newName={newName}\n        handleNameChange={handleNameChange}\n        newNumber={newNumber} \n        handleNumberChange={handleNumberChange}\n      />\n      <h1>Numbers</h1>\n      <Persons \n        persons={persons} \n        searchName={searchName}\n        removePerson={removePerson} \n      />\n      <Footer />\n    </div>\n  )\n}\n\n\nexport default App\n\n","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport App from './App'\r\nimport './index.css'\r\n\r\n\r\nReactDOM.render(<App />, document.getElementById('root'))"],"sourceRoot":""}